(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{106:function(t,e,n){},107:function(t,e,n){},139:function(t,e,n){"use strict";n.r(e);var c,a,i=n(5),r=n(0),o=n.n(r),s=n(9),l=n.n(s),d=(n(106),n(107),n(175)),u=n(176),j=n(177),O=n(170),f=n(178),b=n(173),p=n(179),h=n(90),m=n.n(h),v=n(21),k=n(53),x=n.n(k),I=n(70),T=n(47),C=n(11),g=n(41),E=n.n(g),y=E.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"a409a2ec-60ad-4ff6-9051-8f6025edc2fd"}}),S=function(){return y.get("todo-lists")},w=function(t){return y.post("todo-lists",{title:t})},D=function(t){return y.delete("todo-lists/".concat(t))},A=function(t,e){return y.put("todo-lists/".concat(t),{title:e})},L=[],_=n(174),N=n(141),K=n(34),R=n(180),P=n(171),M=o.a.memo((function(t){var e=Object(r.useState)(null),n=Object(K.a)(e,2),c=n[0],a=n[1],o=Object(r.useState)(""),s=Object(K.a)(o,2),l=s[0],d=s[1],u=function(){""!==l.trim()?(t.addItem(l.trim()),d("")):a("Title is required")};return Object(i.jsxs)("div",{children:[Object(i.jsx)(R.a,{value:l,onChange:function(t){d(t.currentTarget.value)},onKeyPress:function(t){null!==c&&a(null),"Enter"===t.key&&u()},error:!!c,label:l,helperText:c,variant:"outlined",className:""}),Object(i.jsx)(O.a,{size:"small",color:"primary",onClick:u,children:Object(i.jsx)(P.a,{})})]})})),F=n(172),U=o.a.memo((function(t){var e=o.a.useState(!1),n=Object(K.a)(e,2),c=n[0],a=n[1],s=Object(r.useState)(t.value),l=Object(K.a)(s,2),d=l[0],u=l[1];return c?Object(i.jsx)(R.a,{variant:"outlined",value:d,onChange:function(t){u(t.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(a(!1),t.onChange(d))},autoFocus:!0,onBlur:function(){a(!1),t.onChange(d)}}):Object(i.jsx)("span",{onDoubleClick:function(){a(!0),u(t.value)},children:d})})),G=n(181),H=n(22),V=E.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"a409a2ec-60ad-4ff6-9051-8f6025edc2fd"}}),B=function(t){return V.get("todo-lists/".concat(t,"/tasks"))},z=function(t,e){return V.post("todo-lists/".concat(t,"/tasks"),{title:e})},J=function(t,e){return V.delete("todo-lists/".concat(e,"/tasks/").concat(t))},X=function(t,e,n){return V.put("todo-lists/".concat(t,"/tasks/").concat(e),n)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(c||(c={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(a||(a={}));var Y={},q=function(t,e,n){return function(c,a){var i=a().tasks[e].find((function(e){return e.id===t}));if(i){var r=Object(C.a)({title:i.title,description:i.description,status:i.status,priority:i.priority,startDate:i.startDate,deadline:i.deadline},n);X(e,t,r).then((function(a){var i=function(t,e,n){return{type:"UPDATE_TASK",taskId:t,model:e,todolistId:n}}(t,n,e);c(i)}))}else console.warn("task not found in the state")}},Q=o.a.memo((function(t){var e=t.todolistId,n=t.task,a=Object(v.b)(),o=Object(r.useCallback)((function(){a(function(t,e){return function(n){J(t,e).then((function(c){var a=function(t,e){return{type:"REMOVE_TASK",taskId:t,todolistId:e}}(t,e);n(a)}))}}(n.id,e))}),[n.id,e]),s=Object(r.useCallback)((function(t){var i=t.currentTarget.checked?c.Completed:c.New;a(q(n.id,e,{status:i}))}),[n.id,e]),l=Object(r.useCallback)((function(t){a(q(n.id,e,{title:t}))}),[n.id,e]);return Object(i.jsxs)("div",{className:n.status===c.Completed?"task__wrapper is-done":"task__wrapper",children:[Object(i.jsx)(G.a,{color:"primary",onChange:s,checked:n.status===c.Completed}),Object(i.jsx)(U,{value:n.title,onChange:l}),Object(i.jsx)(O.a,{onClick:o,children:Object(i.jsx)(F.a,{})})]})})),W=o.a.memo((function(t){var e=Object(v.b)();Object(r.useEffect)((function(){var n;e((n=t.todolistId,function(t){B(n).then((function(e){var c=function(t,e){return{type:"SET-TASKS",tasks:t,todolistId:e}}(e.data.items,n);t(c)}))}))}),[]);var n=Object(r.useCallback)((function(n){e(function(t,e){return function(n){z(e,t).then((function(t){var e={type:"ADD_TASK",task:t.data.data.item};n(e)}))}}(n.trim(),t.todolistId))}),[e]),a=Object(r.useCallback)((function(n){var c,a;e((c=t.todolistId,a=n,function(t){A(c,a).then((function(e){var n=function(t,e){return{type:"CHANGE-TITLE",id:t,title:e}}(c,a);t(n)}))}))}),[e,t.todolistId]),o=Object(r.useCallback)((function(t,n){e({type:"CHANGE-FILTER",filter:t,id:n})}),[e]),s=Object(r.useCallback)((function(t){var n;e((n=t,function(t){D(n).then((function(e){t({type:"REMOVE-TODOLIST",id:n})}))}))}),[]),l=Object(r.useCallback)((function(){o("all",t.todolistId)}),[]),d=Object(r.useCallback)((function(){o("active",t.todolistId)}),[]),u=Object(r.useCallback)((function(){o("completed",t.todolistId)}),[]),j=t.tasks,f=j;"active"===t.filter&&(f=j.filter((function(t){return t.status===c.New}))),"completed"===t.filter&&(f=j.filter((function(t){return t.status===c.Completed})));var p=f.map((function(e){return Object(i.jsx)(Q,{task:e,todolistId:t.todolistId},e.id)}));return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"title__wrapper",children:[Object(i.jsx)(U,{value:t.title,onChange:a}),Object(i.jsx)(O.a,{onClick:function(){return s(t.todolistId)},children:Object(i.jsx)(F.a,{})})]}),Object(i.jsx)(M,{addItem:n}),Object(i.jsx)("div",{children:p}),Object(i.jsxs)("div",{children:[Object(i.jsx)(b.a,{variant:"outlined",color:"all"===t.filter?"secondary":"primary",size:"small",onClick:l,children:"All"}),Object(i.jsx)(b.a,{variant:"outlined",color:"active"===t.filter?"secondary":"primary",size:"small",onClick:d,children:"Active"}),Object(i.jsx)(b.a,{variant:"outlined",color:"completed"===t.filter?"secondary":"primary",size:"small",onClick:u,children:"Completed"})]})]})})),Z=function(){var t=Object(v.c)((function(t){return t.todolists})),e=Object(v.c)((function(t){return t.tasks})),n=Object(v.b)();Object(r.useEffect)((function(){n((function(t){S().then((function(e){return t({type:"SET-TODOS",todos:e.data})}))}))}),[]);var c=Object(r.useCallback)((function(t){n(function(t){return function(){var e=Object(I.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:c=e.sent.data.data.item,n({type:"ADD-TODOLIST",todo:c}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(_.a,{container:!0,style:{padding:"20px"},justify:"center",alignItems:"center",direction:"column",children:[Object(i.jsx)("div",{style:{marginRight:"20px"},children:"Add new task"}),Object(i.jsx)(M,{addItem:c})]}),Object(i.jsx)(_.a,{container:!0,spacing:3,children:t.map((function(t){var n=e[t.id];return Object(i.jsx)(_.a,{item:!0,style:{padding:"20px"},children:Object(i.jsx)(N.a,{style:{padding:"10px"},children:Object(i.jsx)(W,{title:t.title,tasks:n,filter:t.filter,todolistId:t.id},t.id)})},t.id)}))})]})},$=Object(d.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));var tt=function(){var t=$();return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(u.a,{position:"static",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(O.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(i.jsx)(m.a,{})}),Object(i.jsx)(f.a,{variant:"h6",className:t.title,children:"My TODO"}),Object(i.jsx)(b.a,{color:"inherit",children:"Login"})]})}),Object(i.jsx)(p.a,{fixed:!0,children:Object(i.jsx)(Z,{})})]})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))},nt=n(32),ct=n(91),at=Object(nt.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TASKS":return Object(C.a)(Object(C.a)({},t),{},Object(H.a)({},e.todolistId,e.tasks));case"ADD_TASK":return Object(C.a)(Object(C.a)({},t),{},Object(H.a)({},e.task.todoListId,[e.task].concat(Object(T.a)(t[e.task.todoListId]))));case"REMOVE_TASK":return Object(C.a)(Object(C.a)({},t),{},Object(H.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"UPDATE_TASK":return Object(C.a)(Object(C.a)({},t),{},Object(H.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(C.a)(Object(C.a)({},t),e.model):t}))));case"SET-TODOS":var n=Object(C.a)({},t);return e.todos.forEach((function(t){n[t.id]=[]})),n;case"ADD-TODOLIST":return Object(C.a)(Object(C.a)({},t),{},Object(H.a)({},e.todo.id,[]));case"REMOVE-TODOLIST":var c=Object(C.a)({},t);return delete c[e.id],c;default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOS":return e.todos.map((function(t){return Object(C.a)(Object(C.a)({},t),{},{filter:"all"})}));case"ADD-TODOLIST":return[Object(C.a)(Object(C.a)({},e.todo),{},{filter:"all"})].concat(Object(T.a)(t));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"CHANGE-FILTER":return t.map((function(t){return t.id===e.id?Object(C.a)(Object(C.a)({},t),{},{filter:e.filter}):t}));case"CHANGE-TITLE":return t.map((function(t){return t.id===e.id?Object(C.a)(Object(C.a)({},t),{},{title:e.title}):t}));default:return t}}}),it="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose,rt=Object(nt.d)(at,it(Object(nt.a)(ct.a)));window.store=rt,l.a.render(Object(i.jsx)(v.a,{store:rt,children:Object(i.jsx)(tt,{})}),document.getElementById("root")),et()}},[[139,1,2]]]);
//# sourceMappingURL=main.68b7b551.chunk.js.map